<div class="bg-gray-900 rounded-xl shadow-md overflow-hidden hover:scale-105 transform transition-all duration-300 w-56">
  <!-- Poster -->
  <img 
    [src]="movie.poster && movie.poster !== 'N/A' ? movie.poster : 'assets/no-poster.png'" 
    alt="{{ movie.title }}" 
    class="w-full h-72 object-cover">

  <div class="p-3 flex flex-col justify-between">
    <!-- Title -->
    <h3 class="text-md font-bold text-white truncate">{{ movie.title }}</h3>
    <p class="text-xs text-gray-400">{{ movie.year }}</p>

    <!-- Rating -->
    <app-rating [rating]="movie.rating || 0" (ratingChange)="onRatingChange($event)">
    </app-rating>

    <!-- Add / Remove Buttons -->
    <button *ngIf="!inWatchlist"
      (click)="addMovie()"
      class="w-full bg-purple-600 hover:bg-blue-700 text-white py-1.5 rounded-lg mt-2 transition text-sm">
      ➕ Add to Watchlist
    </button>

    <button *ngIf="inWatchlist"
      (click)="removeFromWatchlist.emit(movie.id)" 
      class="mt-3 bg-red-500 px-4 py-2 rounded text-white font-semibold hover:bg-red-400 transition w-full">
      ❌ Remove
    </button>
  </div>
</div>
